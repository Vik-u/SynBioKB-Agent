// Default parameters for Biosyn-KB Nextflow pipeline

params {
  // General
  e2e           = true
  outdir        = 'nf_out'
  pagesdir      = 'nf_out/pages'
  workdir       = 'nf_out/work'
  db            = 'nf_out/kb.sqlite'
  summaries     = 'nf_out/summaries.jsonl'

  // Search / strategy
  query         = 'biosynthesis of isobutanol'
  provider      = 'serpapi'   // search provider
  api_config    = 'apis.yaml' // provides keys + unpaywall.email
  max_results   = 50

  // LLM
  llm_provider  = 'ollama'    // ollama|openai
  llm_base_url  = 'http://localhost:11434'
  llm_api_key   = null        // set when using online providers
  model         = 'gpt-oss:20b'
  max_chars     = 12000
  temperature   = 0.0
  top_p         = 1.0
  seed          = 42
  limit         = 10          // pages to summarize
}

profiles {
  local {
    process.executor = 'local'
  }
}

// Forward selected env if present (e.g., UNPAYWALL_EMAIL)
process {
  withName:/.*/ {
    env.UNPAYWALL_EMAIL = System.getenv('UNPAYWALL_EMAIL')
  }
}

